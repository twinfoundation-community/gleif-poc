# GLEIF PoC Application

Frontend and backend for verifying vLEI credentials and linking them to IOTA DIDs.

## Structure

```
src/app/
├── frontend/    # React + TypeScript (Vite)
└── backend/     # Express + TypeScript
```

## Setup

### Frontend

```bash
# from the project root -- builds workspace packages first
npm install
npm run dev:frontend
```

Or manually:

```bash
npm install
npm run build:packages   # builds @gleif/verifier-core + @gleif/verifier-node
cd src/app/frontend
npm run dev
```

### Backend

```bash
cd backend
cp .env.example .env
# Edit .env with your configuration
npm install
npm run dev
```

## Environment Variables

See `backend/.env.example` for configuration. Key variables:

| Variable | Default | Description |
|----------|---------|-------------|
| `PORT` | 3000 | Backend server port |
| `KERIA_URL` | http://localhost:3901 | KERIA agent API endpoint |
| `KERIA_BOOT_URL` | http://localhost:3903 | KERIA bootstrap endpoint |
| `SALLY_URL` | http://localhost:9823 | vLEI verifier endpoint |
| `IOTA_NODE_URL` | https://api.testnet.iota.cafe | IOTA network node |
| `DID_WEBS_RESOLVER_URL` | http://localhost:7677 | DID resolver (optional) |
| `TRUST_ANCHORS_PATH` | ../../../scripts/.trust-anchors.json | Trust chain config |
| `NFT_MNEMONIC` | - | BIP39 mnemonic for IOTA wallet (optional) |
| `NFT_IDENTITY` | attestation-service | Controller identity name |
| `LE_SCHEMA_SAID` | ENPXp1vQzRF6JwIuS-mp2U8Uf1MoADoP_GqQ62VsDZWY | LE credential schema SAID |
| `IDENTITY_PACKAGE_ID` | (testnet default) | IOTA identity package ID |
| `ATTESTATION_PACKAGE_ID` | - | vLEI attestation Move contract (deploy with `iota client publish`) |

Trust chain identifiers (GLEIF_ROOT_AID, QVI_AID, etc.) are loaded from `.trust-anchors.json`, which is generated by `scripts/setup-trust-anchors.ts`.
